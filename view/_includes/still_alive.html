<div>



    {% assign alive = site.data.aggregate.report_stillAlive %}
    <h3>Still Alive breakdown by repo</h3>

    <canvas id="stillAliveSummary"></canvas>
    <h4>Status counts </h4>
    {{alive.checks.statusCounts}}
    <br />
    {{alive.checks.repoSummary}}
    //todo, Bar chart: for each of the four statuses.

    <div>URLs queried: {{alive.urlsSubmitted}}, Successful results retrieved for: {{alive.successfulResults}} repos.
    </div>
</div>

<script>

    const data = {
        datasets: [{
            label: 'Repo activity, mid 2021 to mid/late 2022.',
            data: {{alive.checks.statusCounts | jsonify}}}]
    };

    const config = {
        type: 'bar',
        data: data,
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        },
    };

    let chart = new Chart(
document.getElementById('stillAliveSummary'),config);
</script>